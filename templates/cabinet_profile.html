{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>kargoexpress281 ‚Äî –ü—Ä–æ—Ñ–∏–ª—å</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="{% static 'css/cabinet-profile.css' %}" />
</head>
<body
  class="theme-light"
  data-default-theme="{% if site_settings and site_settings.default_dark_mode %}dark{% else %}light{% endif %}"
  {% if site_settings %}
    style="
      {% if site_settings.bg_light %}
        --bg-light: url('{{ site_settings.bg_light.url }}');
      {% endif %}
      {% if site_settings.bg_dark %}
        --bg-dark: url('{{ site_settings.bg_dark.url }}');
      {% endif %}
    "
  {% endif %}
>
  <div class="app">
    <!-- HEADER -->
    <header class="header">
      <div class="header__logo">
        {% if site_settings and site_settings.logo %}
          <img src="{{ site_settings.logo.url }}" alt="{{ site_settings.title }}" class="header__logo-img" />
        {% else %}
          <img src="{% static 'img/logo.png' %}" alt="kargoexpress281" class="header__logo-img" />
        {% endif %}
      </div>

      <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã -->
      <button
        type="button"
        class="theme-toggle"
        id="themeToggleBtn"
        aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É"
      >
        üåô
      </button>
    </header>

    <!-- MAIN -->
    <main class="main">
      <section class="page page--profile" id="page-profile">
        <div class="layout">
          <div class="card card--profile">
            <h2 class="card__title">–ü—Ä–æ—Ñ–∏–ª—å</h2>

            <div class="profile-avatar">
              <div class="profile-avatar__circle">
                üë§
              </div>
            </div>

            <div class="profile-fields">
              <div class="profile-field">
                <p class="profile-field__label">–§–ò–û</p>
                <p class="profile-field__value" id="profile-fullname">
                  {% if user_profile.full_name %}
                    {{ user_profile.full_name }}
                  {% else %}
                    –ù–µ —É–∫–∞–∑–∞–Ω–æ
                  {% endif %}
                </p>
              </div>

              <div class="profile-field">
                <p class="profile-field__label">–¢–µ–ª–µ—Ñ–æ–Ω</p>
                <p class="profile-field__value" id="profile-phone">
                  {% if user_profile.phone %}
                    {{ user_profile.phone }}
                  {% else %}
                    –ù–µ —É–∫–∞–∑–∞–Ω–æ
                  {% endif %}
                </p>
              </div>

              {% comment %} <div class="profile-field">
                <p class="profile-field__label">–ü—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏</p>
                <p class="profile-field__value" id="profile-pickup">
                  {% if user_profile.pickup_point %}
                    {{ user_profile.pickup_point }}
                  {% else %}
                    –ù–µ –≤—ã–±—Ä–∞–Ω
                  {% endif %}
                </p>
              </div> {% endcomment %}
            </div>

            <div class="profile-actions">
              <a
                href="{% url 'cabinet_edit_profile' %}"
                class="btn btn--primary"
              >
                –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
              </a>

              <form method="post" action="{% url 'logout' %}">
                {% csrf_token %}
                <button type="submit" class="btn btn--secondary">
                  –í—ã–π—Ç–∏
                </button>
              </form>

              <button
                type="button"
                class="btn btn--danger"
                id="deleteProfileBtn"
              >
                –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
              </button>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- BOTTOM NAV -->
    <nav class="bottom-nav">
      <a
        href="{% url 'cabinet_home' %}"
        class="bottom-nav__item"
      >
        <span class="bottom-nav__icon">üè†</span>
        <span class="bottom-nav__label">–ì–ª–∞–≤–Ω–æ–µ</span>
      </a>
      <a
        href="{% url 'cabinet_profile' %}"
        class="bottom-nav__item bottom-nav__item--active"
      >
        <span class="bottom-nav__icon">üë§</span>
        <span class="bottom-nav__label">–ü—Ä–æ—Ñ–∏–ª—å</span>
      </a>
    </nav>

    <!-- FOOTER -->
    <footer class="footer">
      <p>&copy; 2025 kargoexpress281. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    </footer>
  </div>

  <script src="{% static 'js/cabinet-theme.js' %}"></script>
  <script src="{% static 'js/cabinet-profile.js' %}"></script>
</body>
</html>
