{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>kargoexpress281 ‚Äî –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="{% static 'css/auth.css' %}" />
</head>
<body
  class="theme-light"
  data-default-theme="{% if site_settings and site_settings.default_dark_mode %}dark{% else %}light{% endif %}"
  {% if site_settings %}
    style="
      {% if site_settings.bg_light %}
        --bg-light: url('{{ site_settings.bg_light.url }}');
      {% endif %}
      {% if site_settings.bg_dark %}
        --bg-dark: url('{{ site_settings.bg_dark.url }}');
      {% endif %}
    "
  {% endif %}
>
  <div class="page">
    <!-- Header -->
    <header class="header">
      <div class="header__logo">
        {% if site_settings and site_settings.logo %}
          <img src="{{ site_settings.logo.url }}" alt="{{ site_settings.title }}" class="header__logo-img" />
        {% else %}
          <img src="{% static 'img/logo.png' %}" alt="kargoexpress281" class="header__logo-img" />
        {% endif %}
      </div>
      <div class="header__tabs">
        <button
          class="tab-button"
          type="button"
          data-link="{% url 'login' %}"
        >
          –í—Ö–æ–¥
        </button>
        <button class="tab-button tab-button--active" type="button">
          –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
        </button>
      </div>

      <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã -->
      <button
        type="button"
        class="theme-toggle"
        id="themeToggleBtn"
        aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É"
      >
        üåô
      </button>
    </header>

    <!-- Main -->
    <main class="main">
      <div class="auth-card-wrapper">
        <div class="auth-card-logo">
          {% if site_settings and site_settings.logo %}
            <img src="{{ site_settings.logo.url }}" alt="{{ site_settings.title }}" class="auth-card-logo__img" />
          {% else %}
            <img src="{% static 'img/logo.png' %}" alt="kargoexpress281" class="auth-card-logo__img" />
          {% endif %}
        </div>

        <div class="auth-card">
          <form class="auth-form" id="registerForm" method="post" action="{% url 'register' %}">
            {% csrf_token %}

            {% if errors.non_field %}
              <div class="form-error">
                {{ errors.non_field }}
              </div>
            {% endif %}

            <!-- –§–ò–û -->
            <div class="form-group">
              <label for="reg-fullName" class="form-label">–§–ò–û</label>
              <input
                id="reg-fullName"
                name="full_name"
                type="text"
                class="input"
                placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –§–ò–û"
                required
                value="{{ form_data.full_name|default:'' }}"
              />
              {% if errors.full_name %}
                <p class="helper-text" style="color:#dc2626;">
                  {{ errors.full_name }}
                </p>
              {% endif %}
            </div>

            <!-- –¢–µ–ª–µ—Ñ–æ–Ω -->
            <div class="form-group">
              <label for="reg-phone" class="form-label">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
              <div class="input-wrapper input-wrapper--phone">
                <span class="input-prefix">+996</span>
                <input
                  id="reg-phone"
                  name="phone"
                  type="tel"
                  class="input input--phone"
                  placeholder="000 000 000"
                  autocomplete="tel"
                  required
                  value="{{ form_data.phone|default:'' }}"
                />
              </div>
              {% if errors.phone %}
                <p class="helper-text" style="color:#dc2626;">
                  {{ errors.phone }}
                </p>
              {% else %}
                <p class="helper-text">–§–æ—Ä–º–∞—Ç: +996XXXXXXXXX</p>
              {% endif %}
            </div>

            <!-- –ü–∞—Ä–æ–ª—å -->
            <div class="form-group">
              <label for="reg-password" class="form-label">–ü–∞—Ä–æ–ª—å</label>
              <div class="input-wrapper input-wrapper--password">
                <input
                  id="reg-password"
                  name="password"
                  type="password"
                  class="input input--password"
                  placeholder="–ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤, –±—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã"
                  autocomplete="new-password"
                  required
                />
                <button
                  type="button"
                  class="password-toggle"
                  id="regTogglePassword"
                  aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä–æ–ª—å"
                >
                  <span class="password-toggle__icon" id="regTogglePasswordIcon">üëÅ</span>
                </button>
              </div>
              {% if errors.password %}
                <p class="helper-text" style="color:#dc2626;">
                  {{ errors.password }}
                </p>
              {% else %}
                <p class="helper-text">
                  –ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤, –±—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã, –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤
                </p>
              {% endif %}
            </div>

            <!-- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è -->
            <div class="form-group">
              <label for="reg-confirmPassword" class="form-label">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è</label>
              <div class="input-wrapper input-wrapper--password">
                <input
                  id="reg-confirmPassword"
                  name="password_confirm"
                  type="password"
                  class="input input--password"
                  placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å"
                  autocomplete="new-password"
                  required
                />
                <button
                  type="button"
                  class="password-toggle"
                  id="regToggleConfirmPassword"
                  aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä–æ–ª—å"
                >
                  <span class="password-toggle__icon" id="regToggleConfirmPasswordIcon">üëÅ</span>
                </button>
              </div>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ -->
            <button type="submit" class="btn btn--primary">
              –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
            </button>

            <!-- –°—Å—ã–ª–∫–∞ –Ω–∞ –≤—Ö–æ–¥ -->
            <div class="auth-links">
              <div class="auth-link-text">
                –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç?
                <button
                  type="button"
                  class="auth-link auth-link--accent"
                  data-link="{% url 'login' %}"
                >
                  –í–æ–π—Ç–∏
                </button>
              </div>
            </div>
          </form>
        </div>

        <div class="auth-info">
          –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <p>&copy; 2025 kargoexpress281. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    </footer>
  </div>

  <script src="{% static 'js/cabinet-theme.js' %}"></script>
  <script src="{% static 'js/register.js' %}"></script>
</body>
</html>
